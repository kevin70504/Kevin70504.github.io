<!DOCTYPE html> 

<html>
	  <head>
		<title>MarkerLessChangeModel</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta charset="utf-8" />
		<script src="../js/aframe.min.js"></script>
		<script src="../js/https.js"></script>
		<script src="https://unpkg.com/aframe-extras@3.3.0/dist/aframe-extras.min.js"></script>
		<script src="https://unpkg.com/aframe-environment-component@1.1.0/dist/aframe-environment-component.min.js"></script>
		<script src="https://unpkg.com/aframe-event-set-component/dist/aframe-event-set-component.min.js"></script>
		<!--將vr按鈕的顯示關閉-->
		<style> .a-enter-vr-button { display: none; } </style>
	  </head>
	  <body>
		<a-scene background="color: black">

			<!--讀取模型與圖片連結位置-->
			<a-assets >
			<a-asset-item id="tree" src="../assets/models/spinosaurus.gltf"></a-asset-item>
			<a-asset-item id="tree" src="../assets/models/tree.gltf"></a-asset-item>
			<!--a-asset-item id="spinosaurus" src="https://cdn.glitch.com/b261123e-fec0-4e1d-a62a-473ad165315e%2FToilet.gltf?v=1621589463282"></a-asset-item-->
			<img id="my-image" src="../assets/image/question.png">
			</a-assets>

		  <!-->設定圖片位置<-->
		  <a-image id="ui"
				   position="0 -1 -3" s
				   scale="0.5 0.5 0.5"
				   src="#my-image"           
					 ></a-image> 
		  
		  <!--設定gltf模型位置-->
			<a-entity   id = "tree_v"
						position="0 0 -3" 
						rotation="0 0 0"
						scale="0.1 0.1 0.1"
						visible = "true"
						gltf-model ="#tree" >
			</a-entity>
		  
		  <a-entity camera position="0 -1 -1" wasd-controls look-controls>
		  <a-cursor></a-cursor>
		  </a-entity>
		
		</a-scene>
		
		<script>
		  
		  //宣告變數models的值為陣列，裡面設定兩項gltf
		  var models = [
			 "../assets/models/tree.gltf",
			 "../assets/models/spinosaurus.gltf"
		  ];
		  
		  //設定名稱為chageName的function，值為e1,boxEl
		  function chageName(e1,boxEl)
		  {
			e1.setAttribute("gltf-model",boxEl);
		  }
		  
		  
		  var modelIndex = 0; //宣告變數modelIndex的值為0

		  const UiEl = document.getElementById("ui"); //宣告變數UiEl的值為ui這項ID
		  
		  //當UiEl被點擊時，切換models的陣列值，藉此切換模型
		  UiEl.addEventListener('click', function ()
			{
				console.log("heelo");
				const boxEl = document.getElementById("tree_v");
				modelIndex++;
				var newIndex = modelIndex % models.length;
				chageName(boxEl,models[newIndex]);
			});
		  
		</script>
	  </body>
</html>